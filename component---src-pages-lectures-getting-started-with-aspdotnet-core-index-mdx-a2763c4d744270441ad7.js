"use strict";(self.webpackChunkbinary_studio_academy_2021_stage_2=self.webpackChunkbinary_studio_academy_2021_stage_2||[]).push([[858],{3059:function(e,t,a){a.r(t),a.d(t,{metadata:function(){return S},_frontmatter:function(){return x},default:function(){return I}});var n=a(3366),o=(a(7294),a(4983)),s=a(5361),r=a(9519),l=(a(6542),a(7190)),i=a(8149),c=a(9427),p=a(3462),d=a(2141),u=a(9617),m=a(1688),k=a(3090),h=a(37),N=a(108),g=a(6893),f=a(3546),w=a(7307),b=a(6843),y=a(7802),v=a(6562),T=["components"],S={orderId:5,author:"–ù–∏–∫–∏—Ç–∞ –ö—Ä–∞—Å–Ω–æ–≤",title:"Getting started with ASP.NET Core",description:"–ü–æ—Å–ª–µ –Ω–µ–±–æ–ª—å—à–æ–≥–æ –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è, –≥–¥–µ —Ä–µ—á—å –ø–æ–π–¥–µ—Ç –æ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞—Ö <strong>.NET Core</strong>, –ù–∏–∫–∏—Ç–∞ –ø–æ–∫–∞–∂–µ—Ç –∫–∞–∫ —Å–æ–∑–¥–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ <strong>ASP.NET Core</strong> —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º <strong>ASP.NET Core Web API</strong>, –∑–∞–∫–æ–¥–∏—Ç —Å–µ—Ä–≤–∏—Å—ã –∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã, –∞ –∑–∞—Ç–µ–º –æ–±—ä—è—Å–Ω–∏—Ç, —á—Ç–æ —Ç–∞–∫–æ–µ dependency injection, —Ä–æ—É—Ç–∏–Ω–≥ –∏ middleware.",keywords:["hola","guapa"],duration:"29 –º–∏–Ω",publishedAt:"2021-12-20T00:00:00"},x={},C={metadata:S,_frontmatter:x},E=s.Fq;function I(e){var t=e.components,a=(0,n.Z)(e,T);return(0,o.kt)(E,Object.assign({},C,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("div",null,(0,o.kt)("h1",null,(0,o.kt)("strong",null,"Getting started with ASP.NET Core"))),(0,o.kt)(s.SQ,{currentLanguage:"ru",languages:{ua:"lectures/getting-started-with-aspdotnet-core/ua",ru:"lectures/getting-started-with-aspdotnet-core"},mdxType:"Language"}),(0,o.kt)(s.U1,{duration:"28 –º–∏–Ω 14 —Å–µ–∫",mdxType:"VideoWrapper"},(0,o.kt)("iframe",{src:"https://www.youtube.com/embed/Fa9RPd1tL30",frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})),(0,o.kt)("div",null,(0,o.kt)("div",{className:"author"},(0,o.kt)("div",{className:"avatar-wrapper"},(0,o.kt)("object",{className:"avatar-object",data:i.XK,role:"img","aria-label":"My profile picture"})),(0,o.kt)("div",{className:"profile"},(0,o.kt)("h3",{className:"name"},"–ù–∏–∫–∏—Ç–∞ –ö—Ä–∞—Å–Ω–æ–≤"),(0,o.kt)("ul",{className:"contacts"},(0,o.kt)("li",null,(0,o.kt)("a",{href:"https://www.facebook.com/krsnv",rel:"author",className:"facebook"},(0,o.kt)(r.G,{icon:l.pZl,className:"icon",mdxType:"FontAwesomeIcon"}),(0,o.kt)("span",null,"Nikita Krasnov"))),(0,o.kt)("li",null,(0,o.kt)("a",{href:"https://github.com/k-r-s-n-v",rel:"author",className:"github"},(0,o.kt)(r.G,{icon:l.zhw,className:"icon",mdxType:"FontAwesomeIcon"}),(0,o.kt)("span",null,"k-r-s-n-v"))),(0,o.kt)("li",null,(0,o.kt)("a",{href:"https://www.linkedin.com/in/nikita-krasnov-b51244116/",rel:"author",className:"linkedin"},(0,o.kt)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"linkedin",className:"svg-inline--fa fa-linkedin fa-w-14 icon",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},(0,o.kt)("path",{fill:"currentColor",d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"})),(0,o.kt)("span",null,"nikita-krasnov")))),(0,o.kt)("p",{className:"about"},"–ù–∏–∫–∏—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ ",(0,o.kt)("a",{href:"https://binary-studio.com"},(0,o.kt)("strong",null,"Binary Studio"))," –±—ç–∫–µ–Ω–¥-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º. –ö–∞—Ç–µ–≥–æ—Ä–∏—á–µ—Å–∫–∏ –Ω–µ —É–ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç –∞–ª–∫–æ–≥–æ–ª—å, –∑–∞—Ç–æ —É–≤–µ—Ä–µ–Ω–Ω–æ —É–ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç .NET-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏, —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—É—é –º—É–∑—ã–∫—É, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ñ—É—Ç–±–æ–ª–∫–∏ —Å –ø—Ä–∏–Ω—Ç–∞–º–∏ –º–µ–º–æ–≤. –ü–æ—Å–µ—â–∞–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –º–∏—Ç–∞–ø—ã –∏ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏, –∏ –≤–∞–º —Å–æ–≤–µ—Ç—É–µ—Ç –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å ‚Äî –ø–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ —Å–ø—Ä–∞–≤–∏—Ç–µ—Å—å —Å –¥–æ–º–∞—à–Ω–∏–º –∑–∞–¥–∞–Ω–∏–µ–º –∫ —ç—Ç–æ–π –ª–µ–∫—Ü–∏–∏ üòâ."))),(0,o.kt)("div",{className:"bubble",style:{margin:"-0.5em 1em 1em"}},(0,o.kt)("strong",null,"–ü—Ä–∏–≤–µ—Ç, —Ä–µ–±—è—Ç–∞!")," üëã",(0,o.kt)("br",null),"–Ø –¥–µ–ª–∞—é –∑–∞–º–µ—Ç–∫–∏ –¥–ª—è —ç—Ç–æ–π –ª–µ–∫—Ü–∏–∏ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –≤–∞–∂–Ω–æ —É–º–µ—Ç—å —á–∏—Ç–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è —Ä–µ–¥–∫–æ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è —Å –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ. –ü–æ –ø—É—Ç–∏ —è –¥–∞–º –≤–∞–º —Å–æ–≤–µ—Ç—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏, —á—Ç–æ–±—ã –≤—ã –ª—É—á—à–µ –ø–æ–Ω–∏–º–∞–ª–∏, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞—à —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫, –∏ –∫ –∫–æ–Ω—Ü—É —ç—Ç–æ–≥–æ —É—Ä–æ–∫–∞ —É –≤–∞—Å –±—É–¥–µ—Ç –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ ASP.NET Core. –≠—Ç–æ ‚Äî –æ–∑–Ω–∞–∫–æ–º–∏—Ç–µ–ª—å–Ω–∞—è –ª–µ–∫—Ü–∏—è, —Ç–∞–∫ —á—Ç–æ:",(0,o.kt)("ol",{className:"compact inverted"},(0,o.kt)("li",null,"–Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –≤–µ—â–∏ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç—å –∑–∞–≥—É–≥–ª–∏—Ç—å —Å–∞–º–æ–º—É;"),(0,o.kt)("li",null,"–≤–æ–∑–º–æ–∂–Ω–æ –≤—ã —É–∂–µ –≤—Å—ë —ç—Ç–æ –∑–Ω–∞–µ—Ç–µ (–ø–æ–≤—Ç–æ—Ä–∏—Ç—å –≤—Å—ë —Ä–∞–≤–Ω–æ –Ω–µ –º–µ—à–∞–µ—Ç).")),"–ü–æ–≥–Ω–∞–ª–∏! ",(0,o.kt)("span",{className:"tooltip","data-tooltip":"–î–∞, —è –ª—é–±–ª—é —Å–∞–º–æ–∫–∞—Ç—ã!"},"üõ¥"))),(0,o.kt)("div",{id:"table-of-contents",className:"table-of-contents",style:{marginTop:"1em"}},(0,o.kt)(s.Nv,{timeline:[{linkTo:"#intro-to-dotnet-core",title:"Intro to .NET Core"},{linkTo:"#creating-an-app",title:"Creating an app"},{linkTo:"#controllers-and-services",title:"Controllers and services"},{linkTo:"#additional-features",title:"Additional Features"}],mdxType:"TimelineOfContents"})),(0,o.kt)(s.aC,{id:"intro-to-dotnet-core",number:"1",name:(0,o.kt)("span",null,"Intro to ",(0,o.kt)("a",{href:"https://dotnet.microsoft.com/download"},".NET Core")),difficulty:"No worries.",objectives:"Familiarize yourself with .NET Core fundamentals because you are going to be buddies.",mdxType:"Level"}),(0,o.kt)("h5",null,"How Microsoft came up with .NET Core"),(0,o.kt)("p",null,'There were times when the term ".NET" meant Windows platform only. It imposed some restrictions for deploying because most machines have Linux as an operating system. So the guys in Microsoft gathered for a meeting and came up with .NET Core. The main idea of the framework is cross-platform apps, which means you can host your app on a variety of OS. Furthermore, it‚Äôs open-source, hence it has great community support.'),(0,o.kt)("h5",null,".NET Core advantages"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Cross-platform"),(0,o.kt)("br",{parentName:"li"}),"Runs on Windows, Linux, macOS"),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Flexible deployment"),(0,o.kt)("br",{parentName:"li"}),"The framework can be included in your app or installed side-by-side user-or machine-wide"),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Command-line tools"),(0,o.kt)("br",{parentName:"li"}),".NET Core has great CLI, therefore all product scenarios can be executed using command-line"),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Compatibility"),(0,o.kt)("br",{parentName:"li"}),".NET Core is compatible with .NET Framework, Xamarin, and Mono, via the .NET Standard Library"),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Open-source"),(0,o.kt)("br",{parentName:"li"}),"The .NET Core platform is open source, using MIT and Apache 2 licenses. You are welcome to contribute"),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Supported by Microsoft"),(0,o.kt)("br",{parentName:"li"}),"Huge corporation forces .NET Core to develop and gain new features")),(0,o.kt)("h5",null,"What you can build with .NET Core"),(0,o.kt)("div",{className:"columns"},(0,o.kt)("div",{className:"column col-4"},(0,o.kt)("div",{className:"panel"},(0,o.kt)("div",{className:"panel-header"},(0,o.kt)("a",{href:"https://docs.microsoft.com/en-us/aspnet/core/mvc/overview"},(0,o.kt)("strong",null,"ASP.NET Core MVC"))),(0,o.kt)("div",{className:"panel-body"},"Web apps which implement Model-View-Controller pattern and use Razor for HTML markdown with C# snippets"))),(0,o.kt)("div",{className:"column col-4"},(0,o.kt)("div",{className:"panel"},(0,o.kt)("div",{className:"panel-header"},(0,o.kt)("a",{href:"https://docs.microsoft.com/en-us/aspnet/core/web-api/"},(0,o.kt)("strong",null,"ASP.NET Core Web API"))),(0,o.kt)("div",{className:"panel-body"},"Backend app which implements business logic and can be used by any client ",(0,o.kt)("em",null,"(whether it‚Äôs Angular-, React-, or WhateverFramework-based frontend, mobile apps, etc.)")))),(0,o.kt)("div",{className:"column col-4"},(0,o.kt)("div",{className:"panel"},(0,o.kt)("div",{className:"panel-header"},(0,o.kt)("a",{href:"https://docs.microsoft.com/en-us/windows/uwp/index"},(0,o.kt)("strong",null,"UWP (Universal Windows Platform)"))),(0,o.kt)("div",{className:"panel-body"},"Native applications for phones, laptops, tablets, Xbox, IoT")))),(0,o.kt)("h5",null,"What you need to start"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},".NET Core SDK")," includes everything you need to build and run .NET Core applications. Since you are not limited to Windows only, you can choose whatever IDE or text editor you want (",(0,o.kt)("a",{href:"https://visualstudio.microsoft.com/"},(0,o.kt)("strong",null,"Visual Studio")),", ",(0,o.kt)("a",{href:"https://code.visualstudio.com/"},(0,o.kt)("strong",null,"Visual Studio Code")),", ",(0,o.kt)("a",{href:"https://www.jetbrains.com/rider/"},(0,o.kt)("strong",null,"JetBrains Rider")),", ",(0,o.kt)("a",{href:"https://www.sublimetext.com/"},(0,o.kt)("strong",null,"Sublime")),", ",(0,o.kt)("a",{href:"https://atom.io/"},(0,o.kt)("strong",null,"Atom")),", and so on). You are able to write code using your favorite tool and execute needed actions using the CLI. Some useful CLI commands are:"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("code",{parentName:"li",className:"language-text"},"dotnet new")," ‚Äî initializes a sample console C# project"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("code",{parentName:"li",className:"language-text"},"dotnet restore")," ‚Äî restores the dependencies for a given application"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("code",{parentName:"li",className:"language-text"},"dotnet build")," ‚Äî builds a .NET Core application"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("code",{parentName:"li",className:"language-text"},"dotnet publish")," ‚Äî publishes a .NET portable or self-contained application"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("code",{parentName:"li",className:"language-text"},"dotnet run")," ‚Äî runs the application from source"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("code",{parentName:"li",className:"language-text"},"dotnet test")," ‚Äî runs tests using a test runner specified in the project.json"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("code",{parentName:"li",className:"language-text"},"dotnet pack")," ‚Äî creates a NuGet package of your code"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},".NET Core Runtime")," includes just the resources required to run existing .NET Core applications (this runtime is included in the SDK)"))),(0,o.kt)(s.aC,{id:"creating-an-app",number:"2",name:"Creating an app",difficulty:"Gets warmer, typing is required.",objectives:(0,o.kt)("span",null,"Learn ",(0,o.kt)("code",null,"dotnet new"),", understand the anatomy of ASP.NET Core app."),mdxType:"Level"}),(0,o.kt)("h5",null,"What is ASP.NET Core ",(0,o.kt)("sup",null,(0,o.kt)("strong",null,(0,o.kt)("a",{href:"https://dotnet.microsoft.com/learn/web/what-is-aspnet-core"},"[1]")," ",(0,o.kt)("a",{href:"https://docs.microsoft.com/en-us/aspnet/core/"},"[2]")))),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"ASP.NET")," is a popular web-development framework for building web apps on the .NET platform. ",(0,o.kt)("strong",{parentName:"p"},"ASP.NET Core")," is the open-source version of ASP.NET, that runs on macOS, Linux, and Windows. It was first released in 2016 and is a re-design of earlier Windows-only versions of ASP.NET. In comparison to ASP.NET, Core version provides:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Cleaner and modular architecture"),(0,o.kt)("li",{parentName:"ul"},"Tighter security"),(0,o.kt)("li",{parentName:"ul"},"Reduced servicing"),(0,o.kt)("li",{parentName:"ul"},"Improved performance")),(0,o.kt)("h5",null,"Why use it"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Integration of modern client-side frameworks and development workflows"),(0,o.kt)("li",{parentName:"ul"},"A cloud-ready environment-based configuration system"),(0,o.kt)("li",{parentName:"ul"},"Built-in dependency injection"),(0,o.kt)("li",{parentName:"ul"},"New light-weight and modular HTTP request pipeline"),(0,o.kt)("li",{parentName:"ul"},"Ability to host on IIS or self-host in your own process"),(0,o.kt)("li",{parentName:"ul"},"Built on .NET Core, which supports true side-by-side app versioning"),(0,o.kt)("li",{parentName:"ul"},"Ships entirely as NuGet packages"),(0,o.kt)("li",{parentName:"ul"},"New tooling that simplifies modern web development"),(0,o.kt)("li",{parentName:"ul"},"Build and run cross-platform ASP.NET apps on Windows, Linux, and macOS"),(0,o.kt)("li",{parentName:"ul"},"Open-source and community focused")),(0,o.kt)("h5",null,"Create a new app by running ",(0,o.kt)("code",null,"dotnet new webapi")," ",(0,o.kt)("sup",null,(0,o.kt)("strong",null,(0,o.kt)("a",{href:"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/startup?view=aspnetcore-2.2"},"[1]")))),(0,o.kt)("ul",null,(0,o.kt)("li",{className:"details"},(0,o.kt)("input",{type:"checkbox",id:"accordion-2-1"}),(0,o.kt)("label",{className:"summary",htmlFor:"accordion-2-1"},(0,o.kt)("strong",null,"Program.cs")),(0,o.kt)("div",{className:"details-body"},"This is how the entry point looks like:",(0,o.kt)(c.default,{mdxType:"SnippetL02S01"}))),(0,o.kt)("li",{className:"details"},(0,o.kt)("input",{type:"checkbox",id:"accordion-2-2"}),(0,o.kt)("label",{className:"summary",htmlFor:"accordion-2-2"},(0,o.kt)("strong",null,"Startup.cs")),(0,o.kt)("div",{className:"details-body"},(0,o.kt)("ul",null,(0,o.kt)("li",null,(0,o.kt)("code",null,"Configure")," ‚Äî how the application will respond to individual HTTP requests (you can setup pipelines which will process requests):",(0,o.kt)(p.default,{mdxType:"SnippetL02S02"})),(0,o.kt)("li",null,(0,o.kt)("code",null,"ConfigureServices")," ‚Äî method for configuring services that are used by your application:",(0,o.kt)(d.default,{mdxType:"SnippetL02S03"})))))),(0,o.kt)(s.aC,{id:"controllers-and-services",number:"3",name:"Controllers and services",difficulty:"No kidding.",objectives:"Learn that services are no joke and business logic shouldn't live in controllers.",mdxType:"Level"}),(0,o.kt)("p",null,"I‚Äôm going to show you how we can write API using ",(0,o.kt)("strong",{parentName:"p"},"ASP.NET Core Web API"),". We will be able to get a list of users and get the user by id. ",(0,o.kt)("a",{href:"https://jsonplaceholder.typicode.com/"},(0,o.kt)("strong",null,"JsonPlaceholder"))," will be used for the data set."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"First, let‚Äôs run the application we‚Äôve just created. You can use ",(0,o.kt)("code",{parentName:"p",className:"language-text"},"dotnet run")," command to start the server. To make sure that our API is working, we should send a request to the ",(0,o.kt)("code",{parentName:"p",className:"language-text"},"ValuesController")," that was created by default. Open ",(0,o.kt)("a",{parentName:"p",href:"https://localhost:5001/api/values"},(0,o.kt)("strong",{parentName:"a"},"https://localhost:5001/api/values"))," ‚Äî you should receive ",(0,o.kt)("code",{parentName:"p",className:"language-text"},'["value1","value2"]')," JSON as a response."),(0,o.kt)("div",{className:"bubble small subtle"},"–¢—ã –º–æ–∂–µ—à—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Postman –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–≤–æ–µ–≥–æ API, –Ω–æ —è —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è VSCode ‚Äï ",(0,o.kt)("a",{href:"https://marketplace.visualstudio.com/items?itemName=humao.rest-client"},(0,o.kt)("strong",null,"REST Client")))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Let‚Äôs practice a bit more and create a new ",(0,o.kt)("strong",{parentName:"p"},"Web API Controller")," controller. Create a new file called ",(0,o.kt)("strong",{parentName:"p"},"UsersController.cs")," in the ",(0,o.kt)("strong",{parentName:"p"},"Controllers")," folder. Add two GET methods which will return a list of users and a user by his id. Use ",(0,o.kt)("code",{parentName:"p",className:"language-text"},"ValuesController")," as an example. Eventually, you should have something like this:"),(0,o.kt)("ul",null,(0,o.kt)("li",{className:"details"},(0,o.kt)("input",{type:"checkbox",id:"accordion-3-1"}),(0,o.kt)("label",{className:"summary",htmlFor:"accordion-3-1"},(0,o.kt)("strong",null,"UsersController.cs")),(0,o.kt)("div",{className:"details-body"},(0,o.kt)(u.default,{mdxType:"SnippetL03S01"}))))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Start the application and go check ",(0,o.kt)("a",{parentName:"p",href:"https://localhost:5001/api/users"},(0,o.kt)("strong",{parentName:"a"},"https://localhost:5001/api/users"))," to make sure that your new controller is available.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Writing business logic in controllers isn‚Äôt the best idea, so it would be better if we created a separate service for this purpose ‚Äî let's call it ",(0,o.kt)("strong",{parentName:"p"},"UserService"),":"),(0,o.kt)("ul",null,(0,o.kt)("li",{className:"details"},(0,o.kt)("input",{type:"checkbox",id:"accordion-3-3"}),(0,o.kt)("label",{className:"summary",htmlFor:"accordion-3-3"},(0,o.kt)("strong",null,"UsersService.cs")),(0,o.kt)("div",{className:"details-body"},(0,o.kt)(k.default,{mdxType:"SnippetL03S03"}))),(0,o.kt)("li",{className:"details"},(0,o.kt)("input",{type:"checkbox",id:"accordion-3-2"}),(0,o.kt)("label",{className:"summary",htmlFor:"accordion-3-2"},(0,o.kt)("strong",null,"UsersController.cs")),(0,o.kt)("div",{className:"details-body"},(0,o.kt)(m.default,{mdxType:"SnippetL03S02"}))))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Run the application and test ",(0,o.kt)("a",{parentName:"p",href:"https://localhost:5001/api/users"},(0,o.kt)("strong",{parentName:"a"},"https://localhost:5001/api/users"))," again to make sure everything works as before.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"In the next step, I suggest implementing ",(0,o.kt)("strong",null,"remote data loading")," using JsonPlaceholder service. In order to serialize response, we will need to add a package that works with JSON. Use ",(0,o.kt)("code",{parentName:"p",className:"language-text"},"dotnet add package Newtonsoft.Json")," command to install the package."),(0,o.kt)("ul",null,(0,o.kt)("li",{className:"details"},(0,o.kt)("input",{type:"checkbox",id:"accordion-3-4"}),(0,o.kt)("label",{className:"summary",htmlFor:"accordion-3-4"},(0,o.kt)("strong",null,"UsersController.cs")),(0,o.kt)("div",{className:"details-body"},(0,o.kt)(h.default,{mdxType:"SnippetL03S04"}))),(0,o.kt)("li",{className:"details"},(0,o.kt)("input",{type:"checkbox",id:"accordion-3-5"}),(0,o.kt)("label",{className:"summary",htmlFor:"accordion-3-5"},(0,o.kt)("strong",null,"UsersService.cs")),(0,o.kt)("div",{className:"details-body"},(0,o.kt)(N.default,{mdxType:"SnippetL03S05"})))))),(0,o.kt)(s.aC,{id:"additional-features",number:"4",name:"Additional features",difficulty:"Like the first one times five?",objectives:"Troubleshoot, debug, extend, and wire up your app better.",mdxType:"Level"}),(0,o.kt)("h5",null,"A short review of Dependency Injection (Singleton, Scoped, Transient)"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/dependency-injection?view=aspnetcore-2.2"},(0,o.kt)("strong",{parentName:"a"},"Dependency injection (DI)"))," ‚Äî software design pattern, which is a technique for achieving ",(0,o.kt)("a",{href:"https://docs.microsoft.com/en-us/dotnet/standard/modern-web-apps-azure-architecture/architectural-principles#dependency-inversion"},(0,o.kt)("strong",null,"Inversion of Control (IoC)"))," between classes and their dependencies. In our case ",(0,o.kt)("code",{parentName:"p",className:"language-text"},"UsersController")," depends on ",(0,o.kt)("code",{parentName:"p",className:"language-text"},"UsersService"),". There might be a case when ",(0,o.kt)("code",{parentName:"p",className:"language-text"},"JsonPlaceholder")," won‚Äôt respond to our requests. In this case, we would want to use another implementation of ",(0,o.kt)("code",{parentName:"p",className:"language-text"},"UsersService")," (use another source or provide mocked data). We would need to go through our app and change class name manually in all places where it‚Äôs used. With DI we can do it easily in one place (",(0,o.kt)("code",{parentName:"p",className:"language-text"},"ConfigureServices()")," in ",(0,o.kt)("strong",{parentName:"p"},"Startup.cs"),"). Moreover, in .NET Core DI container can create instances of dependencies. Otherwise, we would need to do it manually in every service. In addition to that, .NET Core DI container takes on the responsibility of creating an instance of the dependency and disposing of it when it's no longer needed. There are a few service lifetime options:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Singleton")," ‚Äî services are created the first time they're requested (or when ",(0,o.kt)("code",{parentName:"li",className:"language-text"},"ConfigureServices")," is run and an instance is specified with the service registration). Every subsequent request uses the same instance."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Scoped")," ‚Äî services are created once per client request (connection)."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Transient")," ‚Äî services are created each time they're requested from the service container. This lifetime works best for lightweight, stateless services. Let‚Äôs apply ",(0,o.kt)("strong",{parentName:"li"},"Transient")," to our ",(0,o.kt)("code",{parentName:"li",className:"language-text"},"UsersService"),":",(0,o.kt)("ol",{parentName:"li"},(0,o.kt)("li",{parentName:"ol"},"Add the following code to ",(0,o.kt)("code",{parentName:"li",className:"language-text"},"ConfigureServices()")," in ",(0,o.kt)("strong",{parentName:"li"},"Startup.cs"),":",(0,o.kt)(g.default,{mdxType:"SnippetL04S01"})),(0,o.kt)("li",{parentName:"ol"},"Update ",(0,o.kt)("code",{parentName:"li",className:"language-text"},"UsersController"),"‚Äôs constructor:",(0,o.kt)(f.default,{mdxType:"SnippetL04S02"})),(0,o.kt)("li",{parentName:"ol"},"Going further, we can create an interface for ",(0,o.kt)("code",{parentName:"li",className:"language-text"},"UsersService"),". It will let us switch services in one place. Change the previous version of service registration to the next one:",(0,o.kt)(w.default,{mdxType:"SnippetL04S03"})),(0,o.kt)("li",{parentName:"ol"},"Update ",(0,o.kt)("code",{parentName:"li",className:"language-text"},"UsersController")," to operate with the interface (notice how we got rid of the explicit class name):",(0,o.kt)(b.default,{mdxType:"SnippetL04S04"})),(0,o.kt)("li",{parentName:"ol"},"Don‚Äôt forget to inherit our ",(0,o.kt)("code",{parentName:"li",className:"language-text"},"UsersService")," from ",(0,o.kt)("code",{parentName:"li",className:"language-text"},"IUsersService"),":\n",(0,o.kt)("code",{parentName:"li",className:"language-text"},"public class UsersService : IUsersService"))))),(0,o.kt)("h5",null,"Middleware"),(0,o.kt)("p",null,"Middleware is software that's assembled into an app pipeline to handle requests and responses. Long story short: the app applies all middlewares one by one for each request."),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/middleware/index/_static/request-delegate-pipeline.png?view=aspnetcore-2.2",alt:"php-fpm_nginx"})),(0,o.kt)("p",null,"For example, if you want to log all the requests, you can add a pipeline (in the example below ",(0,o.kt)("code",{parentName:"p",className:"language-text"},"Console.WriteLine")," is used for simplicity, you can use any logging framework there). So, add the next code into the ",(0,o.kt)("code",{parentName:"p",className:"language-text"},"Configure")," method in ",(0,o.kt)("strong",{parentName:"p"},"Startup.cs"),":"),(0,o.kt)(y.default,{mdxType:"SnippetL04S05"}),"Now start the app, send a request and see the console output.",(0,o.kt)("h5",null,"Routing"),(0,o.kt)("p",null,"Routing is responsible for mapping request URIs to endpoint selectors and dispatching incoming requests to endpoints.  Routes are defined in the app and configured when the app starts. A route can optionally extract values from the URL contained in the request, and these values can then be used for request processing. Basically, routing is a middleware. Using the picture above, imagine how request comes to the server, then it‚Äôs being processed by a chain of middlewares and then routing middleware matches URL to controller and method names. In WebAPI we define route using the ",(0,o.kt)("code",{parentName:"p",className:"language-text"},"Route")," attribute:"),(0,o.kt)(v.default,{mdxType:"SnippetL04S06"}),"We can do the same for methods in the controller.",(0,o.kt)(s.wO,{mdxType:"ThatsAllFolks"}),(0,o.kt)("div",{className:"bubble"},"–í–æ—Ç —Ç–∞–∫ –≤–æ—Ç –≤–∫—Ä–∞—Ç—Ü–µ –æ–± ASP.NET Core. –ù–∞ —ç—Ç–æ–º –≤—Å—ë, —Å–ø–∞—Å–∏–±–æ –±–æ–ª—å—à–æ–µ –∑–∞ –≤–Ω–∏–º–∞–Ω–∏–µ üé©! –ó–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –æ—Å—Ç–∞–≤–ª—è–π—Ç–µ –æ—Ç–∑—ã–≤ –Ω–∞ –ª–µ–∫—Ü–∏—é –Ω–∞ —Å–∞–π—Ç–µ –∞–∫–∞–¥–µ–º–∏–∏. –£—Å–ø–µ—Ö–æ–≤ —Å –¥–æ–º–∞—à–∫–æ–π, —Å–∫–æ—Ä–æ —É–≤–∏–¥–∏–º—Å—è, –ø–æ–∫–∞! ",(0,o.kt)("span",{className:"tooltip","data-tooltip":"–°–∞–¥–∏—Ç—Å—è –Ω–∞ —Å–∞–º–æ–∫–∞—Ç,\n–£–µ–∑–∂–∞–µ—Ç –≤ –∑–∞–∫–∞—Ç.\n–ù–æ –æ–±–µ—â–∞–ª –≤–µ—Ä–Ω—É—Ç—å—Å—è."},"üõ¥")))}I.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-lectures-getting-started-with-aspdotnet-core-index-mdx-a2763c4d744270441ad7.js.map